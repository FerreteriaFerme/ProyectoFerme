{% extends 'app/base.html' %}
{% load static %}
{% block contenido %}
{% load humanize %}


{% block js %}
<script>
    function eliminarProducto(id){
        Swal.fire({
            "title":"¿Estás seguro?",
            "text":"Esta acción tendrá consecuencias irreparables.",
            "icon":"question",
            "showCancelButton":true,
            "cancelButtonText":"No, cancelar.",
            "confirmButtonText":"Sí , eliminar",
            "confirmButtonColor": "darkred",

        })
        .then(function(result){
            if(result.isConfirmed){
                window.location.href = "/eliminar-productos/"+id+"/"
            }

        })
    }
</script>
{% endblock %}

<br><br><br>
<div class="card">
    <div class="card-body">
        <h2>Listado de productos</h2>
        <table class="table table-striped table-hover table-responsive-sm">
            <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Precio</th>
                <th>Marca</th>
                <th>¿Es herramienta?</th>
                <th>Opciones</th>
            </tr>
            
        
        
        
        {% for p in productos %}
        
        <tr>
            <td>{{ p.id }}</td>
            <td>{{ p.nombre | title }}</td>
            <td>${{ p.precio | intcomma }}</td>
            <td>{{ p.marca | title }}</td>
            <td>
                {% if p.herramienta %}
                <i style="font-size: 30px; margin-left: 40px;" class="fas fa-check-circle"></i>
                {% else %}
                <i style="font-size: 30px;margin-left: 40px;" class="fas fa-times-circle"></i>
                {% endif %}
            </td>
            <td>
                <a href="{% url 'modificar-productos' p.id %}" class="btn btn-succes btn_lista" style="color:#0073FF; font-size: 23px;"><i class="fas fa-edit"></i></a>
                <a href="#" onclick="eliminarProducto({{ p.id }})" class="btn btn-succes btn_lista"style="color:red;font-size: 23px;"><i class="fas fa-trash-alt"></i></a>
            </td>
        </tr>
        {% endfor%}
        </table>
    </div>
</div>




{% endblock %}